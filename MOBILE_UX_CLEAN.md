# ğŸ“± MOBILE UX - CLEAN ARCHITECTURE

**Verze:** V2 - Single Lesson View  
**Datum:** 2025-01-24

---

## ğŸ¯ PÅ˜ED vs. PO

### âŒ PÅ˜ED (DuplicitnÃ­ accordion)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SIDEBAR       â”‚  â”‚   MODULE VIEW            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“š Module 1     â”‚  â”‚ â–¼ Lekce 1: Segmenty     â”‚
â”‚   âœ… Lekce 1    â”‚  â”‚   [Text...]             â”‚
â”‚   â—‹  Lekce 2    â”‚  â”‚   [Canvas]              â”‚
â”‚   ğŸ”’ Lekce 3    â”‚  â”‚                          â”‚
â”‚                 â”‚  â”‚ â–¼ Lekce 2: Hodnota      â”‚
â”‚ ğŸ“š Module 2     â”‚  â”‚   [Text...]             â”‚
â”‚   ğŸ”’ Lekce 1    â”‚  â”‚   [Canvas]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                          â”‚
                     â”‚ â–¼ Lekce 3: KanÃ¡ly       â”‚
                     â”‚   [Text...]             â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†‘
                     DUPLICITA! StejnÃ© lekce 2x!
```

### âœ… PO (Clean single lesson)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SIDEBAR       â”‚  â”‚   LESSON VIEW            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“š Module 1     â”‚  â”‚ ğŸ‘¥ ZÃ¡kaznickÃ© segmenty   â”‚
â”‚   âœ… Lekce 1 â†â”€â”€â”¼â”€â”€â”¼â”€ (Lekce 1/9)            â”‚
â”‚   â—‹  Lekce 2    â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚   ğŸ”’ Lekce 3    â”‚  â”‚ [Text lekce...]          â”‚
â”‚                 â”‚  â”‚                          â”‚
â”‚ ğŸ“š Module 2     â”‚  â”‚ âœï¸ VyplÅˆte canvas:       â”‚
â”‚   ğŸ”’ Lekce 1    â”‚  â”‚ ğŸ‘¥ ZÃ¡kaznickÃ© segmenty   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
                     â”‚ â—‹ MladÃ© maminky 25-35    â”‚
                     â”‚ â—‹ Studenti VÅ             â”‚
                     â”‚ + PÅ™idat segment         â”‚
                     â”‚                          â”‚
                     â”‚ âœ… OznaÄit dokonÄenÃ©     â”‚
                     â”‚                          â”‚
                     â”‚ [â† PÅ™edchozÃ­] [DalÅ¡Ã­ â†’] â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†‘
                     CLEAN! Jen aktuÃ¡lnÃ­ lekce!
```

---

## ğŸ—ºï¸ NAVIGATION FLOW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DASHBOARD                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ CelkovÃ½ pokrok: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%             â”‚     â”‚
â”‚  â”‚ 12/15 lekcÃ­                                â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â–¶ PokraÄovat v kurzu                       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                       â”‚
â”‚  ğŸ“š Module 1: BMC                    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%   â”‚
â”‚  ğŸ“š Module 2: VPC                    â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  50%   â”‚
â”‚  ğŸ“š Module 3: FIT                    â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚
    [Continue]            [Select Module]
        â”‚                       â”‚
        â†“                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LESSON VIEW     â”‚    â”‚  LESSON VIEW     â”‚
â”‚  (last position) â”‚    â”‚  (first lesson)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ LESSON VIEW ANATOMY

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â˜°] Lekce 2/9            [ğŸ ]           â”‚ â† HEADER
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ ğŸ’ HodnotovÃ¡ nabÃ­dka                    â”‚
â”‚ Co nabÃ­zÃ­te a proÄ je to hodnotnÃ©      â”‚
â”‚ âœ… Lekce dokonÄena                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ“– TEXT LEKCE                       â”‚â”‚ â† CONTENT
â”‚ â”‚                                     â”‚â”‚
â”‚ â”‚ <h3>Co je hodnotovÃ¡ nabÃ­dka?</h3>  â”‚â”‚
â”‚ â”‚ <p>HodnotovÃ¡ nabÃ­dka je...</p>     â”‚â”‚
â”‚ â”‚                                     â”‚â”‚
â”‚ â”‚ [CelÃ½ formÃ¡tovanÃ½ obsah]           â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ âœï¸ VyplÅˆte svÅ¯j canvas              â”‚â”‚ â† CANVAS
â”‚ â”‚                                     â”‚â”‚
â”‚ â”‚ ğŸ’ HodnotovÃ¡ nabÃ­dka                â”‚â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚â”‚
â”‚ â”‚ â—‹ KÃ¡va za 2 minuty                 â”‚â”‚
â”‚ â”‚ â—‹ VegÃ¡nskÃ© moÅ¾nosti                â”‚â”‚
â”‚ â”‚ â—‹ PÅ™Ã­jemnÃ© prostÅ™edÃ­               â”‚â”‚
â”‚ â”‚                                     â”‚â”‚
â”‚ â”‚ + PÅ™idat hodnotu                   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ âœ… OznaÄit jako dokonÄenÃ©           â”‚â”‚ â† ACTION
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [â† PÅ™edchozÃ­]        [DalÅ¡Ã­ â†’]         â”‚ â† FOOTER
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“² SIDEBAR DETAIL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [X]  Navigace kurzu             â”‚ â† HEADER
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚ Progress: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%        â”‚
â”‚ 12/15 lekcÃ­ (80%)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“Š Dashboard]                  â”‚ â† QUICK ACTION
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚ â–¼ ğŸ“š Module 1: BMC        âœ…    â”‚ â† EXPANDABLE
â”‚   â”œâ”€ âœ… Lekce 1: Segmenty      â”‚
â”‚   â”œâ”€ âœ… Lekce 2: Hodnota  â†â”€â”€  â”‚ â† ACTIVE
â”‚   â”œâ”€ â—‹  Lekce 3: KanÃ¡ly        â”‚
â”‚   â”œâ”€ ğŸ”’ Lekce 4: Vztahy        â”‚
â”‚   â””â”€ ...                        â”‚
â”‚                                 â”‚
â”‚ â–¶ ğŸ“š Module 2: VPC        50%  â”‚ â† COLLAPSED
â”‚                                 â”‚
â”‚ â–¶ ğŸ“š Module 3: FIT         0%  â”‚ â† LOCKED
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ­ STATE MANAGEMENT

```typescript
// PARENT (CourseDemoV3.tsx)
const [showMainDashboard, setShowMainDashboard] = useState(true);
const [showMobileSidebar, setShowMobileSidebar] = useState(false);
const [currentModuleNumber, setCurrentModuleNumber] = useState(1);
const [currentLessonIndex, setCurrentLessonIndex] = useState(0);
const [completedLessons, setCompletedLessons] = useState<Set<number>>(new Set());

// SCREENS
if (showMainDashboard) {
  return <MobileCourseDashboard />;
}

if (currentModuleNumber === 1) {
  return <MobileCourseModule1 
    currentLessonIndex={currentLessonIndex} // â† KTEROU LEKCI ZOBRAZIT
    onLessonChange={setCurrentLessonIndex}  // â† Previous/Next
  />;
}
```

---

## ğŸ”„ USER JOURNEY

```
1ï¸âƒ£ START
   User opens app
   â†“
   Dashboard (default)

2ï¸âƒ£ CONTINUE
   Click "PokraÄovat v kurzu"
   â†“
   Lesson View (currentLessonIndex)
   
3ï¸âƒ£ NAVIGATE
   Click [â˜°] Menu
   â†“
   Sidebar opens
   â†“
   Click different lesson
   â†“
   Lesson View updates (new index)

4ï¸âƒ£ PROGRESS
   Read lesson
   â†“
   Fill canvas
   â†“
   Click "OznaÄit dokonÄenÃ©"
   â†“
   Lesson marked complete âœ…
   
5ï¸âƒ£ NEXT
   Click "DalÅ¡Ã­ â†’"
   â†“
   Next lesson loads
   â†“
   Scroll to top
   â†“
   Repeat from step 4
```

---

## ğŸ¯ KEY PRINCIPLES

### âœ… DO
- Jedna lekce = jedna obrazovka
- Sidebar = navigace
- Canvas = aktuÃ¡lnÃ­ sekce
- Previous/Next pro flow
- Scroll to top pÅ™i zmÄ›nÄ›

### âŒ DON'T
- Accordion view v modulu
- DuplicitnÃ­ lekce
- VÅ¡echny lekce najednou
- Nested navigace
- Auto-scroll down

---

## ğŸ“Š DATA FLOW

```
User Action          State Change         Screen Update
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Click "Continue"  â†’  showDashboard=false  â†’  Lesson View
                     (keep index)

Click "DalÅ¡Ã­"     â†’  index++              â†’  Next Lesson
                                              Scroll top

Click Sidebar     â†’  index=X              â†’  Specific Lesson
lesson                                       Scroll top

Click "Complete"  â†’  completedLessons.add â†’  âœ… indicator
                                              Unlock next

Canvas add item   â†’  canvasData.push      â†’  Update canvas
                     â†’ Supabase save          Live sync
```

---

## ğŸš€ BENEFITS

**UX:**
- âœ… ÄŒistÅ¡Ã­ interface
- âœ… MÃ©nÄ› scrollovÃ¡nÃ­
- âœ… JasnÃ¡ navigace
- âœ… Focus na jednu lekci

**Technical:**
- âœ… MÃ©nÄ› DOM elementÅ¯
- âœ… RychlejÅ¡Ã­ render
- âœ… JednoduÅ¡Å¡Ã­ state
- âœ… LepÅ¡Ã­ performance

**User:**
- âœ… MÃ©nÄ› rozptÃ½lenÃ­
- âœ… JasnÃ½ progress
- âœ… IntuitivnÃ­ navigace
- âœ… SnadnÃ© dokonÄenÃ­

---

**Status:** âœ… Clean architecture implemented  
**Next:** Testing + Module 2
