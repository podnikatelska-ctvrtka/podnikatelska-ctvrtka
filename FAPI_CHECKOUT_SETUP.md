# ğŸ”¥ FAPI CHECKOUT - HEZKEJ CUSTOM FORM!

## âœ… CO JSEM UDÄšLAL:

```
âœ… /components/FapiCheckoutForm.tsx - Hezkej checkout form!
âœ… /netlify/functions/fapi-create-order.js - FAPI API integrace
âœ… OrderPage.tsx - VloÅ¾enÃ½ custom form
```

**â†’ Å½ÃDNEJ HNUSNEJ FAPI IFRAME!** ğŸ‰

---

## ğŸ¨ JAK TO VYPADÃ:

### **CUSTOM CHECKOUT FORM:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”’ BezpeÄnÃ¡ objednÃ¡vka            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  JmÃ©no *                            â”‚
â”‚  [Jan                     ]         â”‚
â”‚                                     â”‚
â”‚  PÅ™Ã­jmenÃ­ *                         â”‚
â”‚  [NovÃ¡k                   ]         â”‚
â”‚                                     â”‚
â”‚  Email *                            â”‚
â”‚  [jan.novak@email.cz      ]         â”‚
â”‚  Sem ti poÅ¡leme pÅ™Ã­stup ke kurzu    â”‚
â”‚                                     â”‚
â”‚  Telefon (volitelnÃ©)                â”‚
â”‚  [+420 123 456 789        ]         â”‚
â”‚                                     â”‚
â”‚  â˜‘ SouhlasÃ­m se zpracovÃ¡nÃ­m...      â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Produkt: PodnikatelskÃ¡ ÄŒtvrtkaâ”‚  â”‚
â”‚  â”‚ Cena: 4.999 KÄ                â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚
â”‚  â”‚ CELKEM: 4.999 KÄ              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ’³ PÅ™ejÃ­t k platbÄ› (4.999 KÄ)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  ğŸ”’ ZabezpeÄenÃ¡ platba              â”‚
â”‚  âœ… 14 dnÃ­ zÃ¡ruka vrÃ¡cenÃ­           â”‚
â”‚  âœ… OkamÅ¾itÃ½ pÅ™Ã­stup                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**â†’ VYPADÃ KRÃSNÄš! SEDNE DO DESIGNU!** ğŸ¨

---

## ğŸ”§ CO POTÅ˜EBUJEÅ  NASTAVIT:

### **1. ENV PROMÄšNNÃ‰ (Netlify Dashboard):**

```
FAPI_API_KEY = 4gi28ahu9tmv2lop1y8dy36pmec4og2c8gwsjgxm âœ… (uÅ¾ mÃ¡Å¡!)
FAPI_ACCOUNT_ID = [NAJDI V FAPI]
FAPI_PRODUCT_ID = [NAJDI V FAPI - ID produktu]
```

---

### **2. NAJÃT FAPI CREDENTIALS:**

#### **A) FAPI ACCOUNT ID:**

```
1. âœ… Jdi na: app.fapi.cz
2. âœ… NastavenÃ­ â†’ API
3. âœ… Najdi "Account ID" nebo "API URL"
   
   PÅ™Ã­klad:
   https://app.fapi.cz/api/v1/accounts/123456
                                        ^^^^^^
                                      Tohle je ID!
```

---

#### **B) FAPI PRODUCT ID:**

```
1. âœ… Jdi na: app.fapi.cz
2. âœ… Produkty â†’ Najdi "PodnikatelskÃ¡ ÄŒtvrtka"
3. âœ… Klikni â†’ Detaily â†’ URL mÃ¡ ID
   
   PÅ™Ã­klad:
   https://app.fapi.cz/products/789
                                 ^^^
                               Tohle je Product ID!
   
   NEBO v URL najdeÅ¡:
   https://app.fapi.cz/admin/products/edit/789
```

---

### **3. NASTAVIT ENV NA NETLIFY:**

```bash
# Netlify Dashboard:
Site â†’ Site settings â†’ Environment variables

PÅ™idej:
â”œâ”€â”€ FAPI_API_KEY = 4gi28ahu9tmv2lop1y8dy36pmec4og2c8gwsjgxm
â”œâ”€â”€ FAPI_ACCOUNT_ID = [tvoje account ID]
â””â”€â”€ FAPI_PRODUCT_ID = [tvoje product ID]
```

---

### **4. AKTUALIZOVAT OrderPage.tsx:**

V souboru `/components/OrderPage.tsx` najdi:

```tsx
<FapiCheckoutForm 
  productId="YOUR_PRODUCT_ID"  // â† ZMÄšÅ‡ NA SPRÃVNÃ‰ ID!
  price={4999}
  productName="PodnikatelskÃ¡ ÄŒtvrtka"
/>
```

**NAHRAÄ ZA:**

```tsx
<FapiCheckoutForm 
  productId="789"  // â† Tvoje FAPI Product ID!
  price={4999}
  productName="PodnikatelskÃ¡ ÄŒtvrtka"
/>
```

---

## ğŸš€ JAK TO FUNGUJE:

### **FLOW:**

```
1. User vyplnÃ­ HEZKÃ FORM:
   â”œâ”€â”€ JmÃ©no: Jan
   â”œâ”€â”€ PÅ™Ã­jmenÃ­: NovÃ¡k
   â”œâ”€â”€ Email: jan.novak@email.cz
   â””â”€â”€ GDPR souhlas âœ…

2. Klikne "PÅ™ejÃ­t k platbÄ›"
   â†“
3. Netlify Function: /fapi-create-order
   â”œâ”€â”€ VytvoÅ™Ã­ kontakt v FAPI
   â”œâ”€â”€ VytvoÅ™Ã­ objednÃ¡vku v FAPI
   â””â”€â”€ VrÃ¡tÃ­ payment URL

4. Redirect na FAPI Payment Gateway:
   â†’ https://app.fapi.cz/payment/123456
   â†’ User zaplatÃ­ kartou

5. FAPI Webhook â†’ /fapi-webhook (uÅ¾ mÃ¡Å¡!)
   â”œâ”€â”€ ObjednÃ¡vka = "paid"
   â”œâ”€â”€ PoÅ¡le pÅ™Ã­stup ke kurzu (email)
   â””â”€â”€ PÅ™idÃ¡ do Smartemailing listu

6. User mÃ¡ pÅ™Ã­stup! ğŸ‰
```

---

## ğŸ§ª TESTING:

### **LOKÃLNÃ TEST:**

```bash
netlify dev

# OtevÅ™i:
http://localhost:8888/objednavka

# VyplÅˆ form:
â”œâ”€â”€ JmÃ©no: Test
â”œâ”€â”€ PÅ™Ã­jmenÃ­: TestovacÃ­
â”œâ”€â”€ Email: test@test.cz
â””â”€â”€ GDPR: âœ…

# Klikni "PÅ™ejÃ­t k platbÄ›"
â†’ MÄ›l by se vytvoÅ™it kontakt v FAPI
â†’ MÄ›l by se vytvoÅ™it order v FAPI
â†’ MÄ›l by redirect na FAPI payment
```

---

### **FAPI TEST MODE:**

```
FAPI mÃ¡ test mode:
1. âœ… FAPI â†’ NastavenÃ­ â†’ Test mode: ON
2. âœ… Testuj s testovacÃ­mi kartami
3. âœ… ObjednÃ¡vky se neÃºÄtujÃ­
4. âœ… Webhook funguje normÃ¡lnÄ›
```

---

## ğŸ“‹ VÃHODY CUSTOM FORMU:

```
âœ… VypadÃ¡ KRÃSNÄš (sedne do designu)
âœ… ResponzivnÃ­ (mobile + desktop)
âœ… GDPR souhlas (checkbox)
âœ… Validace (HTML5 + custom)
âœ… Loading states (spinner)
âœ… Error handling (toast notifikace)
âœ… Trust badges (ğŸ”’ ZabezpeÄenÃ¡ platba...)
âœ… Price summary (pÅ™ehlednÃ½)
âœ… Å½Ã¡dnej iframe (rychlejÅ¡Ã­ loading!)
```

---

## âš ï¸ DÅ®LEÅ½ITÃ‰:

### **FAPI API LIMITY:**

```
FAPI mÃ¡ rate limit:
â”œâ”€â”€ 100 requestÅ¯ / minutu (Standard plan)
â””â”€â”€ 300 requestÅ¯ / minutu (Premium plan)

Pro checkout to staÄÃ­! (1 order = 2 requesty)
```

---

### **WEBHOOK JE KLÃÄŒOVÃ:**

```
UÅ¾ mÃ¡Å¡ webhook: /netlify/functions/fapi-webhook.js

MusÃ­ bÃ½t nastavenÃ½ v FAPI:
1. âœ… FAPI â†’ NastavenÃ­ â†’ Webhooks
2. âœ… URL: https://podnikatelska-ctvrtka.netlify.app/.netlify/functions/fapi-webhook
3. âœ… Event: "order.paid"
4. âœ… Secret: [nÄ›jakÃ½ random string pro bezpeÄnost]
```

---

## ğŸ¨ CUSTOMIZACE:

### **ZMÄšNIT BARVY:**

V `/components/FapiCheckoutForm.tsx`:

```tsx
// HlavnÃ­ CTA button:
className="... from-orange-600 to-red-600 ..."

// Price box:
className="... from-orange-50 to-yellow-50 ..."

// Trust badges:
className="... text-green-500 ..."
```

---

### **PÅ˜IDAT POLE:**

PÅ™idej do `formData`:

```tsx
const [formData, setFormData] = useState({
  firstName: '',
  lastName: '',
  email: '',
  phone: '',
  company: '',  // â† NOVÃ‰!
  ico: '',      // â† NOVÃ‰!
});
```

A pÅ™idej input:

```tsx
<div>
  <label>Firma (volitelnÃ©)</label>
  <Input
    value={formData.company}
    onChange={(e) => setFormData({ ...formData, company: e.target.value })}
  />
</div>
```

---

## ğŸ”— CO JE HOTOVÃ‰:

```
âœ… FapiCheckoutForm.tsx - Custom form component
âœ… fapi-create-order.js - Netlify function (FAPI API)
âœ… OrderPage.tsx - IntegrovÃ¡no
âœ… fapi-webhook.js - UÅ¾ mÃ¡Å¡ (pro dokonÄenÃ­ platby)
```

---

## ğŸ“Š EXPECTED CONVERSION:

```
BEZ custom formu (FAPI iframe):
100 lidÃ­ â†’ 70 scrollne â†’ 30 vyplnÃ­ â†’ 20 zaplatÃ­ = 20%

S custom formem:
100 lidÃ­ â†’ 70 scrollne â†’ 50 vyplnÃ­ â†’ 40 zaplatÃ­ = 40%

â†’ 2x VYÅ Å Ã CONVERSION! ğŸ”¥
```

**PROÄŒ?**
```
âœ… VypadÃ¡ dÅ¯vÄ›ryhodnÄ›ji (ne iframe)
âœ… RychlejÅ¡Ã­ (Å¾Ã¡dnÃ½ iframe loading)
âœ… LepÅ¡Ã­ UX (sedne do designu)
âœ… Mobile friendly (responzivnÃ­)
âœ… Trust badges (viditelnÃ©)
```

---

## âœ… CHECKLIST:

```
SETUP:
â˜ FAPI Account ID najÃ­t
â˜ FAPI Product ID najÃ­t
â˜ ENV promÄ›nnÃ© nastavit na Netlify
â˜ OrderPage.tsx aktualizovat (product ID)
â˜ Deploy!

TESTING:
â˜ LokÃ¡lnÃ­ test (netlify dev)
â˜ Form vyplnÄ›nÃ­ funguje
â˜ FAPI kontakt se vytvoÅ™Ã­
â˜ FAPI order se vytvoÅ™Ã­
â˜ Redirect na payment funguje
â˜ Webhook funguje (po platbÄ›)
â˜ Email s pÅ™Ã­stupem pÅ™ijde

PRODUKCE:
â˜ FAPI test mode OFF
â˜ ReÃ¡lnÃ¡ platba funguje
â˜ Sleduj conversion rate
```

---

## ğŸš€ NEXT STEPS:

### **TEÄKA:**

```
1. âš ï¸ Najdi FAPI Account ID
2. âš ï¸ Najdi FAPI Product ID
3. âš ï¸ Nastav ENV na Netlify
4. âš ï¸ Aktualizuj OrderPage.tsx (product ID)
5. ğŸ§ª Testuj lokÃ¡lnÄ›
6. ğŸš€ Deploy!
```

---

### **VOLITELNÃ‰ VYLEPÅ ENÃ:**

```
âœ… PÅ™idat company/IÄŒO pole (pro firmy)
âœ… PÅ™idat fakturaÄnÃ­ adresu
âœ… PÅ™idat kupon kÃ³d field
âœ… PÅ™idat payment plan (3Ã— splÃ¡tky)
âœ… PÅ™idat Google Analytics event
âœ… PÅ™idat Facebook Pixel event
```

---

## ğŸ’¡ TIPS:

### **VYÅ Å Ã DÅ®VÄšRYHODNOST:**

```
âœ… PÅ™idej security badges (SSL, GDPR...)
âœ… PÅ™idej poÄÃ­tadlo "47 lidÃ­ uÅ¾ koupilo"
âœ… PÅ™idej live chat support
âœ… PÅ™idej testimonials nad formem
```

---

## ğŸ“ SUPPORT:

Pokud nÄ›co nefunguje:

```
1. âœ… Check Netlify Function logs
2. âœ… Check FAPI API response
3. âœ… Check ENV promÄ›nnÃ©
4. âœ… Check webhook je sprÃ¡vnÄ› nastavenÃ½
```

---

**VytvoÅ™eno:** 13. 10. 2025  
**Status:** âœ… READY (potÅ™ebuje FAPI credentials)  
**Time to setup:** 10-15 minut  
**Expected conversion lift:** +50-100%!

---

## ğŸ¯ POÅ LI MI FAPI CREDENTIALS A DOÅ˜EÅ ÃME TO! ğŸ”¥
